# –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ: —Å–æ–∑–¥–∞–Ω–∏–µ BigQuery Dataset

## –ü—Ä–æ–±–ª–µ–º–∞
–í BigQuery Console –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ:
1. Dataset –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω
2. –¢–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ dataset —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

## –†–µ—à–µ–Ω–∏–µ (5 –º–∏–Ω—É—Ç)

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π dataset –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å

1. **–û—Ç–∫—Ä–æ–π BigQuery Console:**
   ```
   https://console.cloud.google.com/bigquery?project=play-today-479819
   ```

2. **–í–∞–∂–Ω–æ!** –í—ã–±–µ—Ä–∏ –ª–æ–∫–∞—Ü–∏—é **europe-west1 (Belgium)** –≤ –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ (—Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É, —Ä—è–¥–æ–º —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –ø—Ä–æ–µ–∫—Ç–∞)

3. **–°–æ–∑–¥–∞–π dataset:**
   - –í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –Ω–∞–∂–º–∏ –Ω–∞ `play-today-479819`
   - –ù–∞–∂–º–∏ "‚ãÆ" (—Ç—Ä–∏ —Ç–æ—á–∫–∏) ‚Üí **Create dataset**
   - –ó–∞–ø–æ–ª–Ω–∏:
     - **Dataset ID**: `telegram_bot_analytics`
     - **Data location**: `europe-west1 (Belgium)` ‚ö†Ô∏è –í–∞–∂–Ω–æ: –≤—ã–±–µ—Ä–∏ –∏–º–µ–Ω–Ω–æ Belgium, –Ω–µ –ø—Ä–æ—Å—Ç–æ EU!
   - –ù–∞–∂–º–∏ **Create dataset**

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ Cloud Functions

–ü–æ—Å–º–æ—Ç—Ä–∏, –µ—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏:

```bash
gcloud functions logs read playTodayBot --gen2 --region=europe-west1 --limit=50
```

### –®–∞–≥ 3: –°–¥–µ–ª–∞–π –∫–ª–∏–∫ –≤ –±–æ—Ç–µ

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è dataset:
1. –û—Ç–∫—Ä–æ–π –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–∂–º–∏ –ª—é–±—É—é –∫–Ω–æ–ø–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, "üéæ –ù–∞–π—Ç–∏ –∫–æ—Ä—Ç (—Ç–µ–Ω–Ω–∏—Å)")
3. –¢–∞–±–ª–∏—Ü–∞ `button_clicks` —Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∫–ª–∏–∫–µ

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å –≤ BigQuery Console

–ü–æ—Å–ª–µ –∫–ª–∏–∫–∞ –≤ –±–æ—Ç–µ (–ø–æ–¥–æ–∂–¥–∏ 1-2 –º–∏–Ω—É—Ç—ã):

```sql
SELECT * 
FROM `play-today-479819.telegram_bot_analytics.button_clicks`
ORDER BY timestamp DESC
LIMIT 10;
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–≤–µ—Ä—å Cloud Logging** - —Ç–∞–º –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–∏—Å–∏ –æ –∫–ª–∏–∫–∞—Ö:
1. –û—Ç–∫—Ä–æ–π: https://console.cloud.google.com/logs
2. –§–∏–ª—å—Ç—Ä: `resource.type="cloud_function" AND jsonPayload.event_type="button_click"`
3. –ï—Å–ª–∏ –∑–∞–ø–∏—Å–∏ –µ—Å—Ç—å - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ—Å—Ç–æ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å dataset

